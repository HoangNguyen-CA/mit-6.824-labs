Test (2B): leader backs up quickly over incorrect follower logs ...
==================
WARNING: DATA RACE
Write at 0x00c00058f680 by goroutine 6360:
  6.824/raft.(*Raft).AppendEntries()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft_rpc.go:131 +0xbea
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:748 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  6.824/labrpc.(*Service).dispatch()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:496 +0x484
  6.824/labrpc.(*Server).dispatch()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:420 +0x24e
  6.824/labrpc.(*Network).processReq.func1()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:240 +0x9c

Previous read at 0x00c00058f680 by goroutine 6347:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1461 +0x98
  encoding/gob.encInt()
      /usr/local/go/src/encoding/gob/encode.go:188 +0x72
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x563
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:546 +0xd8
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x842
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:516 +0x22d
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x563
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:666 +0x28e
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x77d
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0xee
  6.824/labgob.(*LabEncoder).Encode()
      /home/hoang/go-projects/6.824labs/labs/src/labgob/labgob.go:34 +0x5b
  6.824/labrpc.(*ClientEnd).Call()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:93 +0x1d3
  6.824/raft.(*Raft).broadcastAppendEntries.func1()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft_rpc.go:252 +0x72c
  6.824/raft.(*Raft).broadcastAppendEntries.func2()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft_rpc.go:286 +0x41

Goroutine 6360 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:239 +0x28a
  6.824/labrpc.MakeNetwork.func1.1()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:157 +0x9c

Goroutine 6347 (running) created at:
  6.824/raft.(*Raft).broadcastAppendEntries()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft_rpc.go:227 +0x164
  6.824/raft.Make.func4()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft.go:407 +0x1db
==================
==================
WARNING: DATA RACE
Write at 0x00c00058f6a0 by goroutine 6360:
  6.824/raft.(*Raft).AppendEntries()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft_rpc.go:129 +0xa3b
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:748 +0x42
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:380 +0xb5
  6.824/labrpc.(*Service).dispatch()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:496 +0x484
  6.824/labrpc.(*Server).dispatch()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:420 +0x24e
  6.824/labrpc.(*Network).processReq.func1()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:240 +0x9c

Previous read at 0x00c00058f6a0 by goroutine 6347:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1461 +0x98
  encoding/gob.encInt()
      /usr/local/go/src/encoding/gob/encode.go:188 +0x72
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x563
  encoding/gob.encOpFor.func4()
      /usr/local/go/src/encoding/gob/encode.go:546 +0xd8
  encoding/gob.(*Encoder).encodeArray()
      /usr/local/go/src/encoding/gob/encode.go:351 +0x842
  encoding/gob.encOpFor.func1()
      /usr/local/go/src/encoding/gob/encode.go:516 +0x22d
  encoding/gob.(*Encoder).encodeStruct()
      /usr/local/go/src/encoding/gob/encode.go:328 +0x563
  encoding/gob.(*Encoder).encode()
      /usr/local/go/src/encoding/gob/encode.go:666 +0x28e
  encoding/gob.(*Encoder).EncodeValue()
      /usr/local/go/src/encoding/gob/encoder.go:251 +0x77d
  encoding/gob.(*Encoder).Encode()
      /usr/local/go/src/encoding/gob/encoder.go:176 +0xee
  6.824/labgob.(*LabEncoder).Encode()
      /home/hoang/go-projects/6.824labs/labs/src/labgob/labgob.go:34 +0x5b
  6.824/labrpc.(*ClientEnd).Call()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:93 +0x1d3
  6.824/raft.(*Raft).broadcastAppendEntries.func1()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft_rpc.go:252 +0x72c
  6.824/raft.(*Raft).broadcastAppendEntries.func2()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft_rpc.go:286 +0x41

Goroutine 6360 (running) created at:
  6.824/labrpc.(*Network).processReq()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:239 +0x28a
  6.824/labrpc.MakeNetwork.func1.1()
      /home/hoang/go-projects/6.824labs/labs/src/labrpc/labrpc.go:157 +0x9c

Goroutine 6347 (running) created at:
  6.824/raft.(*Raft).broadcastAppendEntries()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft_rpc.go:227 +0x164
  6.824/raft.Make.func4()
      /home/hoang/go-projects/6.824labs/labs/src/raft/raft.go:407 +0x1db
==================
--- FAIL: TestBackup2B (27.20s)
    testing.go:1465: race detected during execution of test
FAIL
exit status 1
FAIL	6.824/raft	27.210s
